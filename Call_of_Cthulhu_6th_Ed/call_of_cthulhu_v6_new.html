<div class="sheet-main">
	<div class="sheet-div-table">
		<div class="sheet-div-row">
			<div class="sheet-div-cell">
				<img src="http://www.begamer.be/wp-content/uploads/2016/02/Call-of-Cthulhu-Logo.jpg" />
                <!--<h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="shorcuts">Raccouris</span></h3>
                <div style="text-align: center;">
			        <button type="roll" class="sheet-command-button btn ui-draggable" value="@{ability_checks-macro}" name="attr_ability_checks"><span data-i18n="abilities">Caractéristiques</span></button>
			        <button type="roll" class="sheet-command-button btn ui-draggable" value="@{skills-macro}" name="attr_skills_buttons"><span data-i18n="skills">Compétences</span></button>
					<button type="roll" class="sheet-command-button btn ui-draggable" value="@{attacks-macro}" name="attr_attacks_buttons_macro"><span data-i18n="weapons">Armes</span></button>
				</div>-->
				<div style="display:none;">
					<input type="hidden" name="attr_ability_checks-macro" value="/w &quot;@{character_name}&quot; &{template:coc_buttons} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{name=^{characteristics-and-rolls}}} {{[^{presence}](~@{character_id}|check_app) [^{stamina}](~@{character_id}|check_con) [^{agility}](~@{character_id}|check_dex) [^{strength}](~@{character_id}|check_str) [^{corpulence}](~@{character_id}|check_siz) [^{knowledge}](~@{character_id}|check_edu) [^{intuition}](~@{character_id}|check_int) [^{willpower}](~@{character_id}|check_pow)}}" />

					<input type="hidden" name="attr_skills-macro" value="/w &quot;@{character_name}&quot; &{template:coc_buttons} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{name=^{skills}}} " />

					<input type="hidden" name="attr_attacks-macro" value="/w &quot;@{character_name}&quot; &{template:coc_buttons} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{name=^{weapons}}} "/>

					<input type="hidden" name="attr_initSheet" value="1"/>
				</div>
				<br/>

                <h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="characteristics-and-rolls">Caractéristiques & Attributs</span></h3>
				<div class="sheet-div-table">
					<div class="sheet-div-row">
						<div class="sheet-div-cell">
							<span data-i18n="APP">APP</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_app" />
						</div>
						<div class="sheet-div-cell">
							<span data-i18n="presence">Prestance</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_presence" readonly="readonly" />
						</div>
						<div class="sheet-div-cell">
							<button type="roll" name="roll_check_app" value="@{PC-whisper} &{template:coc_abilities} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{characteristic_name=^{presence}}} {{characteristic_threshold=[[@{presence}]]}} {{special_success=[[(ceil(@{presence}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
						</div>
					</div>
					<div class="sheet-div-row">
						<div class="sheet-div-cell">
							<span data-i18n="CON">CON</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_con" />
						</div>
						<div class="sheet-div-cell">
							<span data-i18n="stamina">Endurance</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_stamina" readonly="readonly" />
						</div>
						<div class="sheet-div-cell">
							<button type="roll" name="roll_check_con" value="@{PC-whisper} &{template:coc_abilities} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{characteristic_name=^{stamina}}} {{characteristic_threshold=[[@{stamina}]]}} {{special_success=[[(ceil(@{stamina}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
						</div>
					</div>
					<div class="sheet-div-row">
						<div class="sheet-div-cell">
							<span data-i18n="DEX">DEX</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_dex" />
						</div>
						<div class="sheet-div-cell">
							<span data-i18n="agility">Agilité</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_agility" readonly="readonly" />
						</div>
						<div class="sheet-div-cell">
							<button type="roll" name="roll_check_dex" value="@{PC-whisper} &{template:coc_abilities} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{characteristic_name=^{agility}}} {{characteristic_threshold=[[@{agility}]]}} {{special_success=[[(ceil(@{agility}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
						</div>
					</div>
					<div class="sheet-div-row">
						<div class="sheet-div-cell">
							<span data-i18n="STR">FOR</span>
						</div>
						<div class="sheet-div-cell">
						<input type="number" name="attr_str" />
						</div>
						<div class="sheet-div-cell">
							<span data-i18n="strength">Puissance</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_strength" readonly="readonly" />
						</div>
						<div class="sheet-div-cell">
							<button type="roll" name="roll_check_str" value="@{PC-whisper} &{template:coc_abilities} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{characteristic_name=^{strength}}} {{characteristic_threshold=[[@{strength}]]}} {{special_success=[[(ceil(@{strength}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
						</div>
					</div>
					<div class="sheet-div-row">
						<div class="sheet-div-cell">
							<span data-i18n="SIZ">TAI</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_siz" />
						</div>
						<div class="sheet-div-cell">
							<span data-i18n="corpulence">Corpulence</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_corpulence" readonly="readonly" />
						</div>
						<div class="sheet-div-cell">
							<button type="roll" name="roll_check_siz" value="@{PC-whisper} &{template:coc_abilities} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{characteristic_name=^{corpulence}}} {{characteristic_threshold=[[@{corpulence}]]}} {{special_success=[[(ceil(@{corpulence}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
						</div>
					</div>
					<div class="sheet-div-row">
						<div class="sheet-div-cell">
							<span data-i18n="EDU">EDU</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_edu" />
						</div>
						<div class="sheet-div-cell">
							<span data-i18n="knowledge">Connaissance</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_knowledge" readonly="readonly" />
						</div>
						<div class="sheet-div-cell">
							<button type="roll" name="roll_check_edu" value="@{PC-whisper} &{template:coc_abilities} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{characteristic_name=^{knowledge}}} {{characteristic_threshold=[[@{knowledge}]]}} {{special_success=[[(ceil(@{knowledge}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
						</div>
					</div>
					<div class="sheet-div-row">
						<div class="sheet-div-cell">
							<span data-i18n="INT">INT</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_int" />
						</div>
						<div class="sheet-div-cell">
							<span data-i18n="intuition">Intuition</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_intuition" readonly="readonly" />
						</div>
						<div class="sheet-div-cell">
							<button type="roll" name="roll_check_int" value="@{PC-whisper} &{template:coc_abilities} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{characteristic_name=^{intuition}}} {{characteristic_threshold=[[@{intuition}]]}} {{special_success=[[(ceil(@{intuition}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
						</div>
					</div>
					<div class="sheet-div-row">
						<div class="sheet-div-cell">
							<span data-i18n="POW">POU</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_pow" />
						</div>
						<div class="sheet-div-cell">
							<span data-i18n="willpower">Volonté</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_willpower" readonly="readonly" />
						</div>
						<div class="sheet-div-cell">
							<button type="roll" name="roll_check_pow" value="@{PC-whisper} &{template:coc_abilities} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{characteristic_name=^{willpower}}} {{characteristic_threshold=[[@{willpower}]]}} {{special_success=[[(ceil(@{willpower}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
						</div>

					</div>
				</div>
			</div>
			<div class="sheet-div-cell">
				<h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="investigator-info">État civil</span></h3>
                <div class="sheet-div-table">
					<div class="sheet-div-row">
						<div class="sheet-div-cell">
							<span data-i18n="last-name">Nom</span>
						</div>
						<div class="sheet-div-cell">
							<input type="text" name="attr_lastname" />
						</div>
						<div class="sheet-div-cell">
							<span data-i18n="first-name">Prénom</span>
						</div>
						<div class="sheet-div-cell">
							<input type="text" name="attr_firstname" />
						</div>
					</div>
					<div class="sheet-div-row">
						<div class="sheet-div-cell">
							<span data-i18n="occupation">Occupation</span>
						</div>
						<div class="sheet-div-cell">
							<input type="text" name="attr_occupation" />
						</div>
						<div class="sheet-div-cell">
							<span data-i18n="age">Age</span>
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_age" />
						</div>
					</div>
					<div class="sheet-div-row">
						<div class="sheet-div-cell">
							<span data-i18n="profession">Profession</span>
						</div>
						<div class="sheet-div-cell">
							<input type="text" name="attr_profession" />
						</div>
						<div class="sheet-div-cell">
							<span data-i18n="sex">Sexe</span>
						</div>
						<div class="sheet-div-cell">
							<input type="text" name="attr_sex" />
						</div>
					</div>
					<div class="sheet-div-row">
						<div class="sheet-div-cell">
							<span data-i18n="personality">Personnalité</span>
						</div>
						<div class="sheet-div-cell">
							<input type="text" name="attr_personality" />
						</div>
						<div class="sheet-div-cell">
							<span data-i18n="nationality">Nationalité</span>
						</div>
						<div class="sheet-div-cell">
							<input type="text" name="attr_nationality" />
						</div>
					</div>
					<div class="sheet-div-row">
						<div class="sheet-div-cell">
							<span data-i18n="quality-of-life">Niveau de vie</span>
						</div>
						<div class="sheet-div-cell">
							<input type="text" name="attr_quality-of-life" />
						</div>
						<div class="sheet-div-cell">
							<input type="number" name="attr_qol-score" style="width: 50px;" />%
						</div>
						<div class="sheet-div-cell">
							&nbsp;
						</div>
					</div>
				</div>
                <hr/>
                <h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="circles-of-influence">Cercles d'Influence</span></h3>
                <div class="sheet-div-table">
					<div class="sheet-div-row">
						<div class="sheet-div-cell">
							<span data-i18n="close">Proche</span>
						</div>
						<div class="sheet-div-cell">
							<input type="text" name="attr_coi-close" />
						</div>
						<div class="sheet-div-cell">
							<span data-i18n="far">Éloignés</span>
						</div>
						<div class="sheet-div-cell">
							<input type="text" name="attr_coi-far" />
						</div>
					</div>
					<div class="sheet-div-row">
						<div class="sheet-div-cell">
							<span data-i18n="opposed">Opposés</span>
						</div>
						<div class="sheet-div-cell">
							 <input type="text" name="attr_coi-opposed" />
						</div>
						<div class="sheet-div-cell">
							<span data-i18n="enemy">Ennemi</span>
						</div>
						<div class="sheet-div-cell">
							<input type="text" name="attr_coi-enemy" />
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
    <hr/>
    <div>
        <div class="sheet-row">
            <h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="health">Santé</span></h3>
            <div class="sheet-div-table">
				<div class="sheet-div-row">
					<div class="sheet-div-cell">
						<span data-i18n="protections">Protections</span>:<input type="text" name="attr_protection" style="width: 400px;" />
					</div>
					<div class="sheet-div-cell">
						<span data-i18n="hit-points">Points de Vie</span>:<input type="number" name="attr_hp" />/<input type="number" name="attr_hp_max" readonly="readonly" />
						<span data-i18n="wound-threshold">Seuil de blessure</span>:<input type="number" name="attr_woundThreshold" readonly="readonly" />
					</div>
				</div>
			</div>
			<div class="sheet-div-table">
				<div class="sheet-div-row">
					<div class="sheet-div-cell">
						<span data-i18n="wounds">Blessures</span>:
            			<textarea name="attr_wounds" style="width:99%; height:50px;"></textarea>
					</div>
				</div>
			</div>

			<div class="sheet-div-table">
				<div class="sheet-div-row">
					<div class="sheet-div-cell">
						<h3 style="text-align: center; color: #FFF; background-color: #000;">
                			<span data-i18n="sanity-points">Santé Mentale</span>
			                <button type="roll" value="@{PC-whisper} &{template:coc_sanity} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{characteristic_threshold=[[@{sanity}]]}} {{special_success=[[(ceil(@{sanity}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
			            </h3>
			            <div class="sheet-div-table">
							<div class="sheet-div-row">
								<div class="sheet-div-cell">
									<span data-i18n="social-mod">Modificateur social</span><input type="number" name="attr_social-mod" />
								</div>
								<div class="sheet-div-cell">
									<span data-i18n="aplomb">Aplomb</span><input type="number" name="attr_aplomb" />
								</div>
								<div class="sheet-div-cell">
									<span data-i18n="initial-sanity">SAN Initiale</span><input type="number" name="attr_initSanity" readonly="readonly" />
								</div>
								<div class="sheet-div-cell">
									<span data-i18n="sanity">Santé Mentale</span><input type="number" name="attr_sanity" />
								</div>
								<div class="sheet-div-cell">
									<span data-i18n="sanity-max">SAN Max</span><input type="number" name="attr_sanity_max" readonly="readonly" />
								</div>
							</div>
						</div>
					</div>
					<div class="sheet-div-cell sheet-div-center">
						<h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="magic-points">Points de Magie</span></h3>
            			<input type="number" name="attr_mp" />/<input type="number" name="attr_mp_max" readonly="readonly" />
					</div>
				</div>
			</div>
        </div>
    </div>
    <hr/>
    <div>
        <h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="skills">Compétences</span></h3>
        <div class="sheet-div-table">
            <div class="sheet-div-row">
            	<div class="sheet-div-cell">
	                <div class="sheet-div-table">
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><strong><span data-i18n="knowledge">Connaissance</span></strong></div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"></div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_bureaucracy-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="bureaucracy">Bureaucratie</span>(10%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_bureaucracy" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_bureaucracy" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{bureaucracy}}} {{skill_threshold=[[@{bureaucracy}]]}} {{special_success=[[(ceil(@{bureaucracy}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_artistic-culture-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="artistic-culture">Culture artistique</span>(10%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_artistic-culture" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_artistic-culture" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{artistic-culture}}} {{skill_threshold=[[@{artistic-culture}]]}} {{special_success=[[(ceil(@{artistic-culture}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_artistic-culture-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_artistic-culture-name-1" data-i18n-placeholder="artistic-culture-place" placeholder="Culture artistique" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_artistic-culture-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_artistic-culture-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{artistic-culture-name}}} {{skill_threshold=[[@{artistic-culture-1}]]}} {{special_success=[[(ceil(@{artistic-culture-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_artistic-culture-success-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_artistic-culture-name-2" data-i18n-placeholder="artistic-culture-place" placeholder="Culture artistique" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_artistic-culture-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_artistic-culture-2" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{artistic-culture-name}}} {{skill_threshold=[[@{artistic-culture-2}]]}} {{special_success=[[(ceil(@{artistic-culture-2}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="mother-tongue">Langue maternelle</span>(EDUx5%)</div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"></div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_mother-tongue-success" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_mother-tongue-name" data-i18n-placeholder="mother-tongue-place" placeholder="Langue maternelle" style="width: 160px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_mother-tongue" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_mother-tongue" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{mother-tongue-name}}} {{skill_threshold=[[@{mother-tongue}]]}} {{special_success=[[(ceil(@{mother-tongue}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="languages">Langues</span>(00%)</div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"></div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_language-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_language-name-1" data-i18n-placeholder="language-place" placeholder="Langue" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_language-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_language-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{language-name-1}}} {{skill_threshold=[[@{language-1}]]}} {{special_success=[[(ceil(@{language-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_language-success-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_language-name-2" data-i18n-placeholder="language-place" placeholder="Langue" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_language-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_language-2" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{language-name-2}}} {{skill_threshold=[[@{language-2}]]}} {{special_success=[[(ceil(@{language-2}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_language-success-3" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_language-name-3" data-i18n-placeholder="language-place" placeholder="Langue" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_language-3" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_language-3" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{language-name-3}}} {{skill_threshold=[[@{language-3}]]}} {{special_success=[[(ceil(@{language-3}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_cthulhu-mythos-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="cthulhu-mythos">Mythe de Cthulhu</span>(00%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_cthulhuMythos" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_cthulhu-mythos" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{cthulhu-mythos}}} {{skill_threshold=[[@{cthulhuMythos}]]}} {{special_success=[[(ceil(@{cthulhuMythos}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="earth-sciences">Sciences de la terre</span>(00%)</div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"></div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_earth-science-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_earth-science-name-1" data-i18n-placeholder="earth-science-place" placeholder="Science de la terre" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_earth-science-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_earth-science-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{earth-science-name-1}}} {{skill_threshold=[[@{earth-science-1}]]}} {{special_success=[[(ceil(@{earth-science-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_earth-science-success-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_earth-science-name-2" data-i18n-placeholder="earth-science-place" placeholder="Sciences de la terre" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_earth-science-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_earth-science-2" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{earth-science-name-2}}} {{skill_threshold=[[@{earth-science-2}]]}} {{special_success=[[(ceil(@{earth-science-2}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_earth-science-success-3" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_earth-science-name-6" data-i18n-placeholder="earth-science-place" placeholder="Sciences de la terre" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_earth-science-6" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_earth-science-3" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{earth-science-name-3}}} {{skill_threshold=[[@{earth-science-3}]]}} {{special_success=[[(ceil(@{earth-science-3}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="life-sciences">Sciences de la vie</span>(00%)</div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"></div>
	                    </div>
	                    <br>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_life-sciences-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_life-sciences-name-1" data-i18n-placeholder="life-sciences-place" placeholder="Sciences de la vie" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_life-sciences-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_life-sciences-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{life-sciences-name-1}}} {{skill_threshold=[[@{life-sciences-1}]]}} {{special_success=[[(ceil(@{life-sciences-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_life-sciences-success-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_life-sciences-name-2" data-i18n-placeholder="life-sciences-place" placeholder="Sciences de la vie" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_life-sciences-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_life-sciences-2" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{life-sciences-name-2}}} {{skill_threshold=[[@{life-sciences-2}]]}} {{special_success=[[(ceil(@{life-sciences-2}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_life-sciences-success-3" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_life-sciences-name-3" data-i18n-placeholder="life-sciences-place" placeholder="Sciences de la vie" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_life-sciences-3" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_life-sciences-3" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{life-sciences-name-3}}} {{skill_threshold=[[@{life-sciences-3}]]}} {{special_success=[[(ceil(@{life-sciences-3}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="formal-sciences">Sciences formelles</span>(00%)</div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"></div>
	                    </div>
	                    <br>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_formal-sciences-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_formal-sciences-name-1" data-i18n-placeholder="formal-sciences-place" placeholder="Sciences formelles" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_formal-sciences-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_formal-sciences-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{formal-sciences-name-1}}} {{skill_threshold=[[@{formal-sciences-1}]]}} {{special_success=[[(ceil(@{formal-sciences-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_formal-sciences-success-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_formal-sciences-name-2" data-i18n-placeholder="formal-sciences-place" placeholder="Sciences formelles" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_formal-sciences-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_formal-sciences-2" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{formal-sciences-name-2}}} {{skill_threshold=[[@{formal-sciences-2}]]}} {{special_success=[[(ceil(@{formal-sciences-2}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_formal-sciences-success-3" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_formal-sciences-name-3" data-i18n-placeholder="formal-sciences-place" placeholder="Sciences formelles" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_formal-sciences-3" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_formal-sciences-3" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{formal-sciences-name-3}}} {{skill_threshold=[[@{formal-sciences-3}]]}} {{special_success=[[(ceil(@{formal-sciences-3}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="human-sciences">Sciences humaines</span>(00%)</div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"></div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_human-sciences-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_human-sciences-name-1" data-i18n-placeholder="human-sciences-place" placeholder="Sciences humaines" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_human-sciences-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_human-sciences-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{human-sciences-name-1}}} {{skill_threshold=[[@{human-sciences-1}]]}} {{special_success=[[(ceil(@{human-sciences-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_human-sciences-success-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_human-sciences-name-2" data-i18n-placeholder="human-sciences-place" placeholder="Sciences humaines" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_human-sciences-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_human-sciences-2" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{human-sciences-name-2}}} {{skill_threshold=[[@{human-sciences-2}]]}} {{special_success=[[(ceil(@{human-sciences-2}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_human-sciences-success-3" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_human-sciences-name-3" data-i18n-placeholder="human-sciences-place" placeholder="Sciences humaines" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_human-sciences-3" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_human-sciences-3" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{human-sciences-name-3}}} {{skill_threshold=[[@{human-sciences-3}]]}} {{special_success=[[(ceil(@{human-sciences-3}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_occult-sciences-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="occult-sciences">Sciences occultes</span>(05%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_occult-sciences" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_occult-sciences" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{occult-sciences}}} {{skill_threshold=[[@{occult-sciences}]]}} {{special_success=[[(ceil(@{occult-sciences}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_misc-skill-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_misc-skill-name-1" data-i18n-placeholder="misc-skill-place" placeholder="Divers" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_misc-skill-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_misc-skill-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{misc-skill-name-1}}} {{skill_threshold=[[@{misc-skill-1}]]}} {{special_success=[[(ceil(@{misc-skill-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                </div>
	            </div>
            	<div class="sheet-div-cell">
	                <div class="sheet-div-table">
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><strong><span data-i18n="expertise">Savoir-faire</span></strong>
	                        </div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"></div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_do-it-yourself-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="do-it-yourself">Bricolage</span>(20%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_do-it-yourself" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_do-it-yourself" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{do-it-yourself}}} {{skill_threshold=[[@{do-it-yourself}]]}} {{special_success=[[(ceil(@{do-it-yourself}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_criminalistics-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="criminalistics">Criminalistique</span>(00%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_criminalistics" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_criminalistics" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{criminalistics}}} {{skill_threshold=[[@{criminalistics}]]}} {{special_success=[[(ceil(@{criminalistics}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_hypnosis-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="hypnosis">Hypnose</span>(05%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_hypnosis" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_hypnosis" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{hypnosis}}} {{skill_threshold=[[@{hypnosis}]]}} {{special_success=[[(ceil(@{hypnosis}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_medicine-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="medicine">Médecine</span>(05%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_medicine" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_medicine" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{medicine}}} {{skill_threshold=[[@{medicine}]]}} {{special_success=[[(ceil(@{medicine}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="craft">Métier</span>(05%)</div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_craft" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{craft}}} {{skill_threshold=[[5]]}} {{special_success=[[(1)]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_craft-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_craft-name-1" data-i18n-placeholder="craft-place" placeholder="Métier" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_craft-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_craft-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{craft-name-1}}} {{skill_threshold=[[@{craft-1}]]}} {{special_success=[[(ceil(@{craft-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_craft-success-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_craft-name-2" data-i18n-placeholder="craft-place" placeholder="Métier" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_craft-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_craft-2" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{craft-name-2}}} {{skill_threshold=[[@{craft-2}]]}} {{special_success=[[(ceil(@{craft-2}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_craft-success-3" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_craft-name-3" data-i18n-placeholder="craft-place" placeholder="Métier" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_craft-3" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_craft-3" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{craft-name-3}}} {{skill_threshold=[[@{craft-3}]]}} {{special_success=[[(ceil(@{craft-3}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_craft-success-4" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_craft-name-4" data-i18n-placeholder="craft-place" placeholder="Métier" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_craft-4" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_craft-4" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{craft-name-4}}} {{skill_threshold=[[@{craft-4}]]}} {{special_success=[[(ceil(@{craft-4}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_photography-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="photography">Photographie</span>(10%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_photography" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_photography" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{photography}}} {{skill_threshold=[[@{photography}]]}} {{special_success=[[(ceil(@{photography}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="art">Pratique artistique</span>(05%)</div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_art" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{art}}} {{skill_threshold=[[5]]}} {{special_success=[[1]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_art-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_art-name-1" data-i18n-placeholder="art-place" placeholder="Pratique artistique" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_art-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_art-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{art-name-1}}} {{skill_threshold=[[@{art-1}]]}} {{special_success=[[(ceil(@{art-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_art-success-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_art-name-2" data-i18n-placeholder="art-place" placeholder="Pratique artistique" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_art-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_art-2" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{art-name-2}}} {{skill_threshold=[[@{art-2}]]}} {{special_success=[[(ceil(@{art-2}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_art-success-3" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_art-name-3" data-i18n-placeholder="art-place" placeholder="Pratique artistique" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_art-3" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_art-3" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{art-name-3}}} {{skill_threshold=[[@{art-3}]]}} {{special_success=[[(ceil(@{art-3}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_first-aid-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="first-aid">Premiers soins</span>(30%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_first-aid" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_first-aid" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{first-aid}}} {{skill_threshold=[[@{first-aid}]]}} {{special_success=[[(ceil(@{first-aid}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_psychoanalysis-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="psychoanalysis">Psychanalyse</span>(00%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_psychoanalysis" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_psychoanalysis" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{psychoanalysis}}} {{skill_threshold=[[@{psychoanalysis}]]}} {{special_success=[[(ceil(@{psychoanalysis}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_survival-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="survival">Survie</span>(00%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_survival" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_survival" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{survival}}} {{skill_threshold=[[@{survival}]]}} {{special_success=[[(ceil(@{survival}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_misc-skill-success-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_misc-skill-name-2" data-i18n-placeholder="misc-skill-place" placeholder="Divers" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_misc-skill-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_misc-skill-2" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{misc-skill-name-2}}} {{skill_threshold=[[@{misc-skill-2}]]}} {{special_success=[[(ceil(@{misc-skill-2}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><strong><span data-i18n="sensory">Sensorielles</span></strong>
	                        </div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"></div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_library-use-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="library-use">Bibliothèque</span>(25%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_library-use" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_library-use" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{library-use}}} {{skill_threshold=[[@{library-use}]]}} {{special_success=[[(ceil(@{library-use}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_stealth-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="stealth">Discrétion</span>(10%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_stealth" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_stealth" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{stealth}}} {{skill_threshold=[[@{stealth}]]}} {{special_success=[[(ceil(@{stealth}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_concealment-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="concealment">Dissimulation</span>(15%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_concealment" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_concealment" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{concealment}}} {{skill_threshold=[[@{concealment}]]}} {{special_success=[[(ceil(@{concealment}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_listen-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="listen">Écouter</span>(25%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_listen" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_listen" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{listen}}} {{skill_threshold=[[@{listen}]]}} {{special_success=[[(ceil(@{listen}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_direction-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="direction">Orientation</span>(10%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_direction" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_Orientation" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{direction}}} {{skill_threshold=[[@{direction}]]}} {{special_success=[[(ceil(@{direction}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_track-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="track">Pister</span>(10%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_track" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_track" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{track}}} {{skill_threshold=[[@{track}]]}} {{special_success=[[(ceil(@{track}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_psychology-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="psychology">Psychologie</span>(05%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_psychology" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_psychology" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{psychology}}} {{skill_threshold=[[@{psychology}]]}} {{special_success=[[(ceil(@{psychology}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_hide-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="hide">Se cacher</span>(10%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_hide" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_hide" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{hide}}} {{skill_threshold=[[@{hide}]]}} {{special_success=[[(ceil(@{hide}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_sho-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="spot-hidden-object">Trouver Object Caché</span>(25%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_sho" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_spot-hidden-object" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{spot-hidden-object}}} {{skill_threshold=[[@{sho}]]}} {{special_success=[[(ceil(@{sho}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_vigilance-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="vigilance">Vigilance</span>(25%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_vigilance" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_vigilance" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{vigilance}}} {{skill_threshold=[[@{vigilance}]]}} {{special_success=[[(ceil(@{vigilance}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_misc-skill-success-3" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_misc-skill-name-3" data-i18n-placeholder="misc-skill-place" placeholder="Divers" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_misc-skill-3" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_misc-skill-3" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{misc-skill-name-3}}} {{skill_threshold=[[@{misc-skill-3}]]}} {{special_success=[[(ceil(@{misc-skill-3}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                </div>
                </div>
            	<div class="sheet-div-cell">
	                <div class="sheet-div-table">
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><strong><span data-i18n="influence">Influence</span></strong>
	                        </div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"></div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_spiel-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="spiel">Baratin</span>(05%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_spiel" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_spiel" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{spiel}}} {{skill_threshold=[[@{spiel}]]}} {{special_success=[[(ceil(@{spiel}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_contact-and-resources-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="contact-and-resources">Contacts & Ressources</span>(10%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_contact-and-resources" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_contact-and-resources" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{contact-and-resources}}} {{skill_threshold=[[@{contact-and-resources}]]}} {{special_success=[[(ceil(@{contact-and-resources}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_credit-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="credit">Crédit</span>(15%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_credit" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_credit" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{credit}}} {{skill_threshold=[[@{credit}]]}} {{special_success=[[(ceil(@{credit}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_imposture-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="imposture">Imposture</span>(00%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_imposture" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_imposture" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{imposture}}} {{skill_threshold=[[@{imposture}]]}} {{special_success=[[(ceil(@{imposture}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_interview-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="interview">Interroger</span>(10%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_interview" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_interview" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{interview}}} {{skill_threshold=[[@{interview}]]}} {{special_success=[[(ceil(@{interview}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="game">Jeu</span>(10%)</div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_game" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{game}}} {{skill_threshold=[[10]]}} {{special_success=[[2]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_game-success" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_game-name" data-i18n-placeholder="game-name-place" placeholder="Jeu" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_game" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_game-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{game-name}}} {{skill_threshold=[[@{game}]]}} {{special_success=[[(ceil(@{game}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_bargain-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="bargain">Négociation</span>(05%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_bargain" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_bargain" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{bargain}}} {{skill_threshold=[[@{bargain}]]}} {{special_success=[[(ceil(@{bargain}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_insight-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="insight">Perspicacité</span>(INTx2%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_insight" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_insight" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{insight}}} {{skill_threshold=[[@{insight}]]}} {{special_success=[[(ceil(@{insight}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_persuade-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="persuade">Persuasion</span>(15%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_persuade" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_persuade" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{persuade}}} {{skill_threshold=[[@{persuade}]]}} {{special_success=[[(ceil(@{persuade}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_manners-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="manners">Savoir-vivre</span>(EDUx2%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_manners" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_manners" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{manners}}} {{skill_threshold=[[@{manners}]]}} {{special_success=[[(ceil(@{manners}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_misc-skill-success-4" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_misc-skill-name-4" data-i18n-placeholder="misc-skill-place" placeholder="Divers" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_misc-skill-4" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_misc-skill-4" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{misc-skill-name-4}}} {{skill_threshold=[[@{misc-skill-4}]]}} {{special_success=[[(ceil(@{misc-skill-4}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><strong><span data-i18n="action">Action</span></strong>
	                        </div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"></div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="firearms">Armes à feu</span>(20%)</div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_firearms" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{firearms}}} {{skill_threshold=[[20]]}} {{special_success=[[5]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_firearms-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_firearms-name-1" data-i18n-placeholder="firearms-name-place" placeholder="Arme à feu" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_firearms-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_firearms-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{firearms-name-1}}} {{skill_threshold=[[@{firearms-1}]]}} {{special_success=[[(ceil(@{firearms-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_firearms-success-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_firearms-name-2" data-i18n-placeholder="firearms-name-place" placeholder="Arme à feu" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_firearms-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_firearms-2" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{firearms-name-2}}} {{skill_threshold=[[@{firearms-2}]]}} {{special_success=[[(ceil(@{firearms-2}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="bladed-weapons">Armes blanche</span>(20%)</div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_bladed-weapons" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{bladed-weapons}}} {{skill_threshold=[[20]]}} {{special_success=[[5]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_bladed-weapons-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_bladed-weapons-name-1" data-i18n-placeholder="bladed-weapons-name-place" placeholder="Arme blanches" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_bladed-weapons-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_bladed-weapons-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{bladed-weapons-name-1}}} {{skill_threshold=[[@{bladed-weapons-1}]]}} {{special_success=[[(ceil(@{bladed-weapons-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_bladed-weapons-success-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_bladed-weapons-name-2" data-i18n-placeholder="bladed-weapons-name-place" placeholder="Arme blanches" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_bladed-weapons-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_bladed-weapons-2" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{bladed-weapons-name-2}}} {{skill_threshold=[[@{bladed-weapons-2}]]}} {{special_success=[[(ceil(@{bladed-weapons-2}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="exotic-weapons">Armes Exotique</span>(00%)</div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"></div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_exotic-weapons-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_exotic-weapons-name-1" data-i18n-placeholder="exotic-weapons-name-place" placeholder="Armes exotiques" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_exotic-weapons-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_exotic-weapons-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{exotic-weapons-name-1}}} {{skill_threshold=[[@{exotic-weapons-1}]]}} {{special_success=[[(ceil(@{exotic-weapons-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="gunnery">Artillerie</span>(15%)</div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_gunnery" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{gunnery}}} {{skill_threshold=[[15]]}} {{special_success=[[3]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_gunnery-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_gunnery-name-1" data-i18n-placeholder="gunnery-name-place" placeholder="Artillerie" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_gunnery-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_gunnery-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{gunnery-name-1}}} {{skill_threshold=[[@{gunnery-1}]]}} {{special_success=[[(ceil(@{gunnery-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_athleticism-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="athleticism">Athlétisme</span>(15%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_athleticism" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_athleticism" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{athleticism}}} {{skill_threshold=[[@{athleticism}]]}} {{special_success=[[(ceil(@{athleticism}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="drive">Conduite</span>(20%)</div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_drive" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{drive}}} {{skill_threshold=[[20]]}} {{special_success=[[5]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_drive-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_drive-name-1" data-i18n-placeholder="drive-name-place" placeholder="Conduite" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_drive-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_drive-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{drive-name-1}}} {{skill_threshold=[[@{drive-1}]]}} {{special_success=[[(ceil(@{drive-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_drive-success-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_drive-name-2" data-i18n-placeholder="drive-name-place" placeholder="Conduite" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_drive-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_drive-2" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{drive-name-2}}} {{skill_threshold=[[@{drive-2}]]}} {{special_success=[[(ceil(@{drive-2}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="hand-to-hand">Corps à corps</span>(DEX x2%)</div>
	                        <div class="sheet-div-cell">
	                        	<input type="number" name="attr_hand-to-hand" readonly="readonly" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_hand-to-hand" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{hand-to-hand}}} {{skill_threshold=[[@{dex}*2]]}} {{special_success=[[(ceil((@{dex}*2)/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_hand-to-hand-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_hand-to-hand-name-1" data-i18n-placeholder="hand-to-hand-name-place" placeholder="Corps à corps" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_hand-to-hand-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_hand-to-hand-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{hand-to-hand-name-1}}} {{skill_threshold=[[@{hand-to-hand-1}]]}} {{special_success=[[(ceil(@{hand-to-hand-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_hand-to-hand-success-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_hand-to-hand-name-2" data-i18n-placeholder="hand-to-hand-name-place" placeholder="Corps à corps" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_hand-to-hand-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_hand-to-hand-2" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{hand-to-hand-name-2}}} {{skill_threshold=[[@{hand-to-hand-2}]]}} {{special_success=[[(ceil(@{hand-to-hand-2}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_ride-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="ride">Équitation</span>(05%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_ride" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_ride" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{ride}}} {{skill_threshold=[[@{ride}]]}} {{special_success=[[(ceil(@{ride}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_navigate-success" />
	                        </div>
	                        <div class="sheet-div-cell"><span data-i18n="navigate">Navigation</span>(00%)</div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_navigate" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_navigate" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=^{navigate}}} {{skill_threshold=[[@{navigate}]]}} {{special_success=[[(ceil(@{navigate}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"><span data-i18n="pilot">Piloter</span>(00%)</div>
	                        <div class="sheet-div-cell"></div>
	                        <div class="sheet-div-cell"></div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_pilot-success-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_pilot-name-1" data-i18n-placeholder="pilot-name-place" placeholder="Piloter" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_pilot-1" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_pilot-1" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{pilot-name-1}}} {{skill_threshold=[[@{pilot-1}]]}} {{special_success=[[(ceil(@{pilot-1}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                    <div class="sheet-div-row">
	                        <div class="sheet-div-cell">
	                            <input type="checkbox" name="attr_pilot-success-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="text" name="attr_pilot-name-2" data-i18n-placeholder="pilot-name-place" placeholder="Piloter" style="width: 145px" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <input type="number" name="attr_pilot-2" />
	                        </div>
	                        <div class="sheet-div-cell">
	                            <button type="roll" name="roll_check_pilot-2" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{pilot-name-2}}} {{skill_threshold=[[@{pilot-2}]]}} {{special_success=[[(ceil(@{pilot-2}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                        </div>
	                    </div>
	                </div>
	                <br>
	                <strong><span data-i18n="others">Autres</span></strong>
	                <fieldset class="repeating_skills">
	                    <input type="checkbox" name="attr_misc-skill-success-x" />
	                    <input type="text" name="attr_misc-skill-name-x" data-i18n-placeholder="misc-skill-place" placeholder="Divers" style="width: 145px" />
	                    <input type="number" name="attr_misc-skill-x" />
	                    <button type="roll" name="roll_check_misc-skill-x" value="@{PC-whisper} &{template:coc_skills} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{skill_name=@{misc-skill-name-x}}} {{skill_threshold=[[@{misc-skill-x}]]}} {{special_success=[[(ceil(@{misc-skill-x}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}}" />
	                </fieldset>
                </div>
            </div>
        </div>
    </div>
    <hr/>
    <div>
        <h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="weapons">Armes</span></h3>

		<!-- WEAPONS -->
		<div class="sheet-repeating-sect">
			<fieldset class="repeating_weapons">
					<span class="sheet-repeating-rollbutton sheet-small-label2"><button type="roll" name="attr_attack-roll" value="@{PC-whisper} &{template:coc_weapons} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{weapon_name=@{weapon-name}}} {{skill_threshold=[[@{weapon-skill}]]}} {{special_success=[[(ceil(@{weapon-skill}/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}} {{damage_roll=[[@{damage}]]}}" /></span>
					<span class="sheet-small-label2" style="width:20%;"><input type="text" name="attr_weapon-name" /><span data-i18n="name">Nom</span></span>
					<span class="sheet-small-label2" style="width:10%;"><input type="text" name="attr_damage"/><span data-i18n="damage">Dégâts</span></span>
					<span class="sheet-small-label2" style="width:10%;"><input type="text" name="attr_range" /><span data-i18n="range">Portée</span></span>
					<span class="sheet-small-label2" style="width:10%;"><input type="number" name="attr_rate" /><span data-i18n="rate">Cadence</span></span>
					<span class="sheet-small-label2" style="width:10%;"><input type="number" name="attr_cartridge" /><span data-i18n="cartridge">Chargeur</span></span>
					<span class="sheet-small-label2" style="width:20%;"><select name="attr_weapon-skill">
                        <option value=""></option>
                        <option value="20" data-i18n="firearms">Armes à Feu</option>
                        <option value="@{firearms-1}" data-i18n="firearms-special-1">Arme à Feu (Spé 1)</option>
                        <option value="@{firearms-2}" data-i18n="firearms-special-2">Arme à Feu (Spé 2)</option>

                        <option value="20" data-i18n="bladed-weapons">Armes Blanche</option>
                        <option value="@{bladed-weapons-1}" data-i18n="bladed-weapons-special-1">Arme Blanche (Spé 1)</option>
                        <option value="@{bladed-weapons-2}" data-i18n="bladed-weapons-special-2">Arme Blanche (Spé 2)</option>

                        <option value="@{exotic-weapons-1}" data-i18n="exotic-weapon">Arme Exotique</option>

                        <option value="20" data-i18n="gunnery">Artillerie</option>
                        <option value="@{gunnery-1}" data-i18n="gunnery-special-1">Artillerie (Spé 1)</option>

                        <option value="(@{dex}*2)" data-i18n="hand-to-hand">Corps à Corps</option>
                        <option value="@{hand-to-hand-1}" data-i18n="hand-to-hand-special-1">Corps à Corps (Spé 1)</option>
                        <option value="@{hand-to-hand-2}" data-i18n="hand-to-hand-special-2">Corps à Corps (Spé 2)</option>

                      </select><span data-i18n="skill">Compétence</span></span>
			</fieldset>
		</div>
		<br/>

        <div class="sheet-div-table">
            <div class="sheet-div-row">
                <div class="sheet-div-cell"><span data-i18n="impact">Impact</span>
                    <input type="text" name="attr_impact" value="0" style="width: 130px" />
                </div>
                <div class="sheet-div-cell">
                    <button type="roll" name="attr_feet-attack-roll" value="@{PC-whisper} &{template:coc_weapons} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{weapon_name=^{feet}}} {{skill_threshold=[[(@{dex}*2)]]}} {{special_success=[[(ceil((@{dex}*2)/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}} {{damage_roll=[[1d6+@{impact}]]}}">
                    	&nbsp;<span data-i18n="feet">Pieds</span>
                    </button>
                    <button type="roll" name="attr_hands-attack-roll" value="@{PC-whisper} &{template:coc_weapons} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{weapon_name=^{hands}}} {{skill_threshold=[[(@{dex}*2)]]}} {{special_success=[[(ceil((@{dex}*2)/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}} {{damage_roll=[[1d3+@{impact}]]}}">
                    	&nbsp;<span data-i18n="hands">Poings</span>
                    </button>
                    <button type="roll" name="attr_head-attack-roll" value="@{PC-whisper} &{template:coc_weapons} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{weapon_name=^{head}}} {{skill_threshold=[[(@{dex}*2)]]}} {{special_success=[[(ceil((@{dex}*2)/5))]]}} {{diceroll=[[1d100cs<1cf>100]]}} {{damage_roll=[[1d4+@{impact}]]}}">
                    	&nbsp;<span data-i18n="head">Tête</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <hr/>
    <div>
        <h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="equipment">Équipement</span></h3>
        <div class="sheet-row">
            <span data-i18n="favorite-equipment">Équipement fétiche</span> (+10%)
            <input type="text" name="attr_other-equipment" style="width: 600px" />
            <br>
            <span data-i18n="other-equipment">Autre équipement</span>
            <fieldset class="repeating_physical-aftereffects">
	        	<input type="text" name="attr_equipment-name" placeholder="Nom de l'équipement" data-i18n-placeholder="equipment-name-place" style="width:80%;" />
	        	<input type="number" name="attr_equipment-number" title="Nombre d'équipement possédé" data-i18n-title="equipment-number-title" />
	        </fieldset>
            <br>
        </div>
    </div>
    <div>
        <h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="aftereffects">Séquelles</span></h3>
        <div class="sheet-2colrow">
            <div class="sheet-col">
            	<strong><span data-i18n="psycological-aftereffects">Séquelles Psychologiques</span></strong>

                <div class="sheet-repeating-sect">
					<fieldset class="repeating_psycological-aftereffects">
							<span class="sheet-small-label2" style="width:20%;"><input type="text" name="attr_aftereffect-name" /><span data-i18n="aftereffect">Séquelle</span></span>
							<span class="sheet-small-label2" style="width:10%;"><input type="number" name="attr_level"/><span data-i18n="level">Niveau</span></span>
							<span class="sheet-small-label2" style="width:20%;"><input type="text" name="attr_effect" /><span data-i18n="effect">Effet</span></span>
							<span class="sheet-small-label2" style="width:40%;"><input type="text" name="attr_description" /><span data-i18n="description">Description</span></span>
					</fieldset>
				</div>
            </div>
            <div class="sheet-col">
                <strong><span data-i18n="physical-aftereffects">Séquelles Physiques</span></strong>
                <fieldset class="repeating_physical-aftereffects">
		        	<input type="text" name="attr_physical-aftereffects" style="width:100%;" placeholder="Description de la séquelle" data-i18n-placeholder="physical-aftereffects-place"  />
		        </fieldset>
                <br>
            </div>
        </div>
    </div>
    <hr/>
    <div>
        <h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="contacts">Contacts</span></h3>

        <div class="sheet-repeating-sect">
			<fieldset class="repeating_contacts">
					<span class="sheet-small-label2" style="width:25%;"><input type="text" name="attr_contact-name" /><span data-i18n="contact">Contact</span></span>
					<span class="sheet-small-label2" style="width:20%;"><input type="text" name="attr_attitude"/><span data-i18n="attitude">Attitude</span></span>
					<span class="sheet-small-label2" style="width:25%;"><input type="text" name="attr_circumstances" /><span data-i18n="circumstances">Circonstances</span></span>
					<span class="sheet-small-label2" style="width:25%;"><input type="text" name="attr_scenario" /><span data-i18n="scenario">Scénario</span></span>
			</fieldset>
		</div>

    </div>
    <hr/>
    <div>
        <h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="known-investigators">Investigateurs connus</span></h3>

        <div class="sheet-repeating-sect">
			<fieldset class="repeating_investigators">
					<span class="sheet-small-label2" style="width:20%;"><input type="text" name="attr_investigator-name" /><span data-i18n="name">Nom</span></span>
					<span class="sheet-small-label2" style="width:10%;"><input type="text" name="attr_investigator-scenario"/><span data-i18n="scenario">Scénario</span></span>
					<span class="sheet-small-label2" style="width:65%;"><input type="text" name="attr_investigator-notes" /><span data-i18n="notes">Notes</span></span>
			</fieldset>
		</div>

    </div>
    <hr/>
    <div>
        <h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="personal-story">Histoire personnelle</span></h3>
        <div class="sheet-div-table">
            <div class="sheet-div-row">
                <div class="sheet-div-cell">
                    <strong><span data-i18n="motivation">Motivation</span></strong>
                </div>
                <div class="sheet-div-cell">
                    <input type="text" name="attr_motivation" style="width: 100%" />
                </div>
            </div>
        </div>
        <hr/>
        <strong><span data-i18n="personal-story-details">Détails de l'histoire personnelle</span></strong>
        <textarea name="attr_personal-story-details" style="width:99%; height:150px;"></textarea>
    </div>
    <hr/>
    <div>
        <h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="unholy-knowledge">Savoirs impies</span></h3>
        <strong><span data-i18n="known-creatures">Créatures connues</span></strong>
        <fieldset class="repeating_known-creatures">
        	<input type="text" name="attr_creature-name" style="width:29%" placeholder="Nom de la creature" data-i18n-placeholder="creature-name-place" />
        	<input type="text" name="attr_creature-desc" style="width:69%" placeholder="Description de la creature" data-i18n-placeholder="creature-desc-place" />
        </fieldset>
        <strong><span data-i18n="consulted-books">Ouvrages consultés</span></strong>
        <fieldset class="repeating_consulted-books">
        	<input type="text" name="attr_book-name" style="width:29%" placeholder="Nom de l'ouvrage" data-i18n-placeholder="book-name-place" />
        	<input type="text" name="attr_book-desc" style="width:69%" placeholder="Description de l'ouvrage" data-i18n-placeholder="book-desc-place" />
        </fieldset>
    </div>
    <hr/>
    <div>
        <h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="notes">Notes</span></h3>
        <textarea name="attr_notes" style="width:99%; height:150px;"></textarea>
    </div>

    <div>
        <h3 style="text-align: center; color: #FFF; background-color: #000;"><span data-i18n="configuration">Configuration</span></h3>
        <span data-i18n="rolls-results">Résultat des jets</span> :
        <select name="attr_PC-whisper" style="width:150px;">
            <option value="&nbsp;" data-i18n="public" selected>Public</option>
            <option value="/w gm" data-i18n="whisper-to-guardian">Pour le Gardien</option>
        </select>
        <br/>
        <input type="checkbox" name="attr_recalc1" value="1" class="sheet-button-recalc" title="Recalculer la feuille." /><span>Recalculer la feuille</span>

    </div>
</div>



<!-- ROLLTEMPLATE FOR ABILITIES -->
<rolltemplate class="sheet-rolltemplate-coc_abilities">
  <div class="sheet-roll-table sheet-rounded">
    <div class="sheet-roll-header">
    {{#character_name}}
        {{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
        {{^character_id}}{{character_name}}{{/character_id}}
    {{/character_name}}
    </div>
    <div class="sheet-roll-header sheet-roll-text-white sheet-roll-text-right sheet-roll-text-12px">
    <span data-i18n="characteristic">Caracteristique</span> => {{characteristic_name}}
    </div>
    <div class="sheet-roll-group2">
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell"><span data-i18n="value">Valeur</span></div>
        <div class="sheet-roll-cell">{{characteristic_threshold}}</div>
      </div>
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell"><span data-i18n="result">Résultat</span></div>
        <div class="sheet-roll-cell">{{diceroll}}</div>
      </div>

      {{#rollLess() diceroll characteristic_threshold}}
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell">{{#rollWasCrit() diceroll}}<span style="color:green;font-weight:bold;text-transform: uppercase;" data-i18n="critical-result">Critique !</span>{{/rollWasCrit() diceroll}}</div>
        <div class="sheet-roll-cell"><span style="font-weight:bold;" data-i18n="success-result">Réussite</span> {{#rollLess() diceroll special_success}}<span style="color:green;font-weight:bold;" data-i18n="special">Spéciale</span>{{/rollLess() diceroll special_success}}</div>
      </div>
      {{/rollLess() diceroll characteristic_threshold}}

      {{#rollTotal() diceroll characteristic_threshold}}
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell"></div>
        <div class="sheet-roll-cell"><span style="font-weight:bold;" data-i18n="success-result">Réussite</span></div>
      </div>
      {{/rollTotal() diceroll characteristic_threshold}}

      {{#rollGreater() diceroll characteristic_threshold}}
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell">{{#rollWasFumble() diceroll}}<span style="color:red;font-weight:bold;text-transform: uppercase;" data-i18n="critical-result">Critique !</span>{{/rollWasFumble() diceroll}}</div>
        <div class="sheet-roll-cell"><span style="font-weight:bold;" data-i18n="fail-result">Echec</span></div>
      </div>
      {{/rollGreater() diceroll characteristic_threshold}}

    </div>
  </div>
</rolltemplate>

<!-- ROLLTEMPLATE FOR SANITY -->
<rolltemplate class="sheet-rolltemplate-coc_sanity">
  <div class="sheet-roll-table sheet-rounded">
    <div class="sheet-roll-header">
    {{#character_name}}
        {{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
        {{^character_id}}{{character_name}}{{/character_id}}
    {{/character_name}}
    </div>
    <div class="sheet-roll-header sheet-roll-text-white sheet-roll-text-right sheet-roll-text-12px">
    <span data-i18n="sanity">Santé Mentale</span>
    </div>
    <div class="sheet-roll-group2">
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell"><span data-i18n="value">Valeur</span></div>
        <div class="sheet-roll-cell">{{characteristic_threshold}}</div>
      </div>
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell"><span data-i18n="result">Résultat</span></div>
        <div class="sheet-roll-cell">{{diceroll}}</div>
      </div>

      {{#rollLess() diceroll characteristic_threshold}}
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell">{{#rollWasCrit() diceroll}}<span style="color:green;font-weight:bold;text-transform: uppercase;" data-i18n="critical-result">Critique !</span>{{/rollWasCrit() diceroll}}</div>
        <div class="sheet-roll-cell"><span style="font-weight:bold;" data-i18n="success-result">Réussite</span> {{#rollLess() diceroll special_success}}<span style="color:green;font-weight:bold;" data-i18n="special">Spéciale</span>{{/rollLess() diceroll special_success}}</div>
      </div>
      {{/rollLess() diceroll characteristic_threshold}}

      {{#rollTotal() diceroll characteristic_threshold}}
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell"></div>
        <div class="sheet-roll-cell"><span style="font-weight:bold;" data-i18n="success-result">Réussite</span></div>
      </div>
      {{/rollTotal() diceroll characteristic_threshold}}

      {{#rollGreater() diceroll characteristic_threshold}}
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell">{{#rollWasFumble() diceroll}}<span style="color:red;font-weight:bold;text-transform: uppercase;" data-i18n="critical-result">Critique !</span>{{/rollWasFumble() diceroll}}</div>
        <div class="sheet-roll-cell"><span style="font-weight:bold;" data-i18n="fail-result">Echec</span></div>
      </div>
      {{/rollGreater() diceroll characteristic_threshold}}

    </div>
  </div>
</rolltemplate>

<!-- ROLLTEMPLATE FOR SKILLS -->
<rolltemplate class="sheet-rolltemplate-coc_skills">
  <div class="sheet-roll-table sheet-rounded">
    <div class="sheet-roll-header">
    {{#character_name}}
        {{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
        {{^character_id}}{{character_name}}{{/character_id}}
    {{/character_name}}
    </div>
    <div class="sheet-roll-header sheet-roll-text-white sheet-roll-text-right sheet-roll-text-12px">
    <span data-i18n="skill">Compétence</span> => {{skill_name}}
    </div>
    <div class="sheet-roll-group2">
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell"><span data-i18n="value">Valeur</span></div>
        <div class="sheet-roll-cell">{{skill_threshold}}</div>
      </div>
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell"><span data-i18n="result">Résultat</span></div>
        <div class="sheet-roll-cell">{{diceroll}}</div>
      </div>

      {{#rollLess() diceroll skill_threshold}}
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell">{{#rollWasCrit() diceroll}}<span style="color:green;font-weight:bold;text-transform: uppercase;" data-i18n="critical-result">Critique !</span>{{/rollWasCrit() diceroll}}</div>
        <div class="sheet-roll-cell"><span style="font-weight:bold;" data-i18n="success-result">Réussite</span> {{#rollLess() diceroll special_success}}<span style="color:green;font-weight:bold;" data-i18n="special">Spéciale</span>{{/rollLess() diceroll special_success}}</div>
      </div>
      {{/rollLess() diceroll skill_threshold}}

      {{#rollTotal() diceroll skill_threshold}}
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell"></div>
        <div class="sheet-roll-cell"><span style="font-weight:bold;" data-i18n="success-result">Réussite</span></div>
      </div>
      {{/rollTotal() diceroll skill_threshold}}

      {{#rollGreater() diceroll skill_threshold}}
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell">{{#rollWasFumble() diceroll}}<span style="color:red;font-weight:bold;text-transform: uppercase;" data-i18n="critical-result">Critique !</span>{{/rollWasFumble() diceroll}}</div>
        <div class="sheet-roll-cell"><span style="font-weight:bold;" data-i18n="fail-result">Echec</span></div>
      </div>
      {{/rollGreater() diceroll skill_threshold}}

    </div>
  </div>
</rolltemplate>

<!-- ROLLTEMPLATE FOR WEAPONS -->
<rolltemplate class="sheet-rolltemplate-coc_weapons">
  <div class="sheet-roll-table sheet-rounded">
    <div class="sheet-roll-header">
    {{#character_name}}
        {{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
        {{^character_id}}{{character_name}}{{/character_id}}
    {{/character_name}}
    </div>
    <div class="sheet-roll-header sheet-roll-text-white sheet-roll-text-right sheet-roll-text-12px">
    <span data-i18n="weapon">Arme</span> => {{weapon_name}}
    </div>
    <div class="sheet-roll-group2">

      <div class="sheet-roll-row">
        <div class="sheet-roll-cell"><span data-i18n="value">Valeur</span></div>
        <div class="sheet-roll-cell">{{skill_threshold}}</div>
      </div>
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell"><span data-i18n="result">Résultat</span></div>
        <div class="sheet-roll-cell">{{diceroll}}</div>
      </div>

      {{#rollLess() diceroll skill_threshold}}
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell">{{#rollWasCrit() diceroll}}<span style="color:green;font-weight:bold;text-transform: uppercase;" data-i18n="critical-result">Critique !</span>{{/rollWasCrit() diceroll}}</div>
        <div class="sheet-roll-cell"><span style="font-weight:bold;" data-i18n="success-result">Réussite</span> {{#rollLess() diceroll special_success}}<span style="color:green;font-weight:bold;" data-i18n="special">Spéciale</span>{{/rollLess() diceroll special_success}}</div>
      </div>
      {{/rollLess() diceroll skill_threshold}}

      {{#rollTotal() diceroll skill_threshold}}
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell"></div>
        <div class="sheet-roll-cell"><span style="font-weight:bold;" data-i18n="success-result">Réussite</span></div>
      </div>
      {{/rollTotal() diceroll skill_threshold}}

      {{#rollGreater() diceroll skill_threshold}}
      <div class="sheet-roll-row">
        <div class="sheet-roll-cell">{{#rollWasFumble() diceroll}}<span style="color:red;font-weight:bold;text-transform: uppercase;" data-i18n="critical-result">Critique !</span>{{/rollWasFumble() diceroll}}</div>
        <div class="sheet-roll-cell"><span style="font-weight:bold;" data-i18n="fail-result">Echec</span></div>
      </div>
      {{/rollGreater() diceroll skill_threshold}}

      <div class="sheet-roll-row">
        <div class="sheet-roll-cell"><span data-i18n="damages">Dégâts</span></div>
        <div class="sheet-roll-cell">{{damage_roll}}</div>
      </div>
    </div>
  </div>
</rolltemplate>

<!-- ROLLTEMPLATE FOR ABILITY COMMAND BUTTONS -->
<rolltemplate class="sheet-rolltemplate-coc_buttons">
  <div class="sheet-roll-table sheet-rounded">
    <div class="sheet-roll-header">
    {{#character_name}}
        {{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
        {{^character_id}}{{character_name}}{{/character_id}}
    {{/character_name}}
    </div>
    <div class="sheet-roll-header sheet-roll-text-white sheet-roll-text-right sheet-roll-text-12px">
    	{{name}}
    </div>
    <div class="sheet-roll-group2">
		{{#allprops() name character_name character_id}}
		<div class="sheet-roll-row">
			<div class="sheet-roll-cell">**{{key}}**</div>
		</div>
		{{/allprops() name character_name character_id}}
    </div>
  </div>
</rolltemplate>

<script type="text/worker">

/* ---- BEGIN: TheAaronSheet.js ---- */
// Github:   https://github.com/shdwjk/TheAaronSheet/blob/master/TheAaronSheet.js
// By:       The Aaron, Arcane Scriptomancer
// Contact:  https://app.roll20.net/users/104025/the-aaron

var TAS = TAS || (function () {
		'use strict';
		var version = '0.2.4',
			lastUpdate = 1457098091,
			loggingSettings = {
				debug: {
					key: 'debug',
					title: 'DEBUG',
					color: {
						bgLabel: '#7732A2',
						label: '#F2EF40',
						bgText: '#FFFEB7',
						text: '#7732A2'
					}
				},
				error: {
					key: 'error',
					title: 'Error',
					color: {
						bgLabel: '#C11713',
						label: 'white',
						bgText: '#C11713',
						text: 'white'
					}
				},
				warn: {
					key: 'warn',
					title: 'Warning',
					color: {
						bgLabel: '#F29140',
						label: 'white',
						bgText: '#FFD8B7',
						text: 'black'
					}
				},
				info: {
					key: 'info',
					title: 'Info',
					color: {
						bgLabel: '#413FA9',
						label: 'white',
						bgText: '#B3B2EB',
						text: 'black'
					}
				},
				notice: {
					key: 'notice',
					title: 'Notice',
					color: {
						bgLabel: '#33C133',
						label: 'white',
						bgText: '#ADF1AD',
						text: 'black'
					}
				},
				log: {
					key: 'log',
					title: 'Log',
					color: {
						bgLabel: '#f2f240',
						label: 'black',
						bgText: '#ffff90',
						text: 'black'
					}
				},
				callstack: {
					key: 'TAS',
					title: 'function',
					color: {
						bgLabel: '#413FA9',
						label: 'white',
						bgText: '#B3B2EB',
						text: 'black'
					}
				},
				callstack_async: {
					key: 'TAS',
					title: 'ASYNC CALL',
					color: {
						bgLabel: '#413FA9',
						label: 'white',
						bgText: '#413FA9',
						text: 'white'
					}
				},
				TAS: {
					key: 'TAS',
					title: 'TAS',
					color: {
						bgLabel: 'grey',
						label: 'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)',
						bgText: 'grey',
						text: 'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)'
					}
				}
			},
			config = {
				debugMode: false,
				logging: {
					log: true,
					notice: true,
					info: true,
					warn: true,
					error: true,
					debug: false
				}
			},
			callstackRegistry = [],
			queuedUpdates = {}, //< Used for delaying saves till the last moment.
			complexType = function (o) {
				switch (typeof o) {
				case 'string':
					return 'string';
				case 'boolean':
					return 'boolean';
				case 'number':
					return (_.isNaN(o) ? 'NaN' : (o.toString().match(/\./) ? 'decimal' : 'integer'));
				case 'function':
					return 'function: ' + (o.name ? o.name + '()' : '(anonymous)');
				case 'object':
					return (_.isArray(o) ? 'array' : (_.isArguments(o) ? 'arguments' : (_.isNull(o) ? 'null' : 'object')));
				default:
					return typeof o;
				}
			},
			dataLogger = function (primaryLogger, secondaryLogger, data) {
				_.each(data, function (m) {
					var type = complexType(m);
					switch (type) {
					case 'string':
						primaryLogger(m);
						break;
					case 'undefined':
					case 'null':
					case 'NaN':
						primaryLogger('[' + type + ']');
						break;
					case 'number':
					case 'not a number':
					case 'integer':
					case 'decimal':
					case 'boolean':
						primaryLogger('[' + type + ']: ' + m);
						break;
					default:
						primaryLogger('[' + type + ']:=========================================');
						secondaryLogger(m);
						primaryLogger('=========================================================');
						break;
					}
				});
			},
			colorLog = function (options) {
				var coloredLoggerFunction,
					key = options.key,
					label = options.title || 'TAS',
					lBGColor = (options.color && options.color.bgLabel) || 'blue',
					lTxtColor = (options.color && options.color.label) || 'white',
					mBGColor = (options.color && options.color.bgText) || 'blue',
					mTxtColor = (options.color && options.color.text) || 'white';
				coloredLoggerFunction = function (message) {
					console.log('%c ' + label + ': %c ' + message + ' ', 'background-color: ' + lBGColor + ';color: ' + lTxtColor + '; font-weight:bold;', 'background-color: ' + mBGColor + ';color: ' + mTxtColor + ';');
				};
				return function () {
					if ('TAS' === key || config.logging[key]) {
						dataLogger(coloredLoggerFunction, function (m) {
							console.log(m);
						}, _.toArray(arguments));
					}
				};
			},
			logDebug = colorLog(loggingSettings.debug),
			logError = colorLog(loggingSettings.error),
			logWarn = colorLog(loggingSettings.warn),
			logInfo = colorLog(loggingSettings.info),
			logNotice = colorLog(loggingSettings.notice),
			logLog = colorLog(loggingSettings.log),
			log = colorLog(loggingSettings.TAS),
			logCS = colorLog(loggingSettings.callstack),
			logCSA = colorLog(loggingSettings.callstack_async),
			registerCallstack = function (callstack, label) {
				var idx = _.findIndex(callstackRegistry, function (o) {
					return (_.difference(o.stack, callstack).length === _.difference(callstack, o.stack).length) && _.difference(o.stack, callstack).length === 0 && o.label === label;
				});
				if (-1 === idx) {
					idx = callstackRegistry.length;
					callstackRegistry.push({
						stack: callstack,
						label: label
					});
				}
				return idx;
			},
			setConfigOption = function (options) {
				var newconf = _.defaults(options, config);
				newconf.logging = _.defaults(
					(options && options.logging) || {}, config.logging);
				config = newconf;
			},
			debugMode = function () {
				config.logging.debug = true;
				config.debugMode = true;
			},
			getCallstack = function () {
				var e = new Error('dummy'),
					stack = _.map(_.rest(e.stack.replace(/^[^\(]+?[\n$]/gm, '').replace(/^\s+at\s+/gm, '').replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@').split('\n')), function (l) {
						return l.replace(/\s+.*$/, '');
					});
				return stack;
			},
			logCallstackSub = function (cs) {
				var matches,
					csa;
				_.find(cs, function (line) {
					matches = line.match(/TAS_CALLSTACK_(\d+)/);
					if (matches) {
						csa = callstackRegistry[matches[1]];
						logCSA('====================' + (csa.label ? '> ' + csa.label + ' <' : '') + '====================');
						logCallstackSub(csa.stack);
						return true;
					}
					logCS(line);
					return false;
				});
			},
			logCallstack = function () {
				var cs;
				if (config.debugMode) {
					cs = getCallstack();
					cs.shift();
					log('==============================> CALLSTACK <==============================');
					logCallstackSub(cs);
					log('=========================================================================');
				}
			},
			wrapCallback = function (label, callback, context) {
				var callstack;
				if ('function' === typeof label) {
					context = callback;
					callback = label;
					label = undefined;
				}
				if (!config.debugMode) {
					return (function (cb, ctx) {
							return function () {
								cb.apply(ctx || {}, arguments);
							};
						}
						(callback, context));
				}
				callstack = getCallstack();
				callstack.shift();
				return (function (cb, ctx, cs, lbl) {
						var ctxref = registerCallstack(cs, lbl);
						/*jshint -W054 */
						return new Function('cb', 'ctx', 'TASlog', "return function TAS_CALLSTACK_" + ctxref + "(){" + "TASlog('Entering: '+(cb.name||'(anonymous function)'));" + "cb.apply(ctx||{},arguments);" + "TASlog('Exiting: '+(cb.name||'(anonymous function)'));" + "};")(cb, ctx, log);
						/*jshint +W054 */
					}
					(callback, context, callstack, label));
			},
			prepareUpdate = function (attribute, value) {
				queuedUpdates[attribute] = value;
			},
			applyQueuedUpdates = function () {
				setAttrs(queuedUpdates);
				queuedUpdates = {};
			},
			namesFromArgs = function (args, base) {
				return _.chain(args).reduce(function (memo, attr) {
					if ('string' === typeof attr) {
						memo.push(attr);
					} else if (_.isArray(args) || _.isArguments(args)) {
						memo = namesFromArgs(attr, memo);
					}
					return memo;
				}, (_.isArray(base) && base) || []).uniq().value();
			},
			addId = function (obj, value) {
				Object.defineProperty(obj, 'id', {
					value: value,
					writeable: false,
					enumerable: false
				});
			},
			addProp = function (obj, prop, value, fullname) {
				(function () {
						var pname = (_.contains(['S', 'F', 'I', 'D'], prop) ? '_' + prop : prop),
							full_pname = fullname || prop,
							pvalue = value;
						_.each(['S', 'I', 'F'], function (p) {
							if (!_.has(obj, p)) {
								Object.defineProperty(obj, p, {
									value: {},
									enumerable: false,
									readonly: true
								});
							}
						});
						if (!_.has(obj, 'D')) {
							Object.defineProperty(obj, 'D', {
								value: _.reduce(_.range(10), function (m, d) {
									Object.defineProperty(m, d, {
										value: {},
										enumerable: true,
										readonly: true
									});
									return m;
								}, {}),
								enumerable: false,
								readonly: true
							});
						}
						// Raw value
						Object.defineProperty(obj, pname, {
							enumerable: true,
							set: function (v) {
								if (v !== pvalue) {
									pvalue = v;
									prepareUpdate(full_pname, v);
								}
							},
							get: function () {
								return pvalue;
							}
						});
						// string value
						Object.defineProperty(obj.S, pname, {
							enumerable: true,
							set: function (v) {
								var val = v.toString();
								if (val !== pvalue) {
									pvalue = val;
									prepareUpdate(full_pname, val);
								}
							},
							get: function () {
								return pvalue.toString();
							}
						});
						// int value
						Object.defineProperty(obj.I, pname, {
							enumerable: true,
							set: function (v) {
								var val = parseInt(v, 10) || 0;
								if (val !== pvalue) {
									pvalue = val;
									prepareUpdate(full_pname, val);
								}
							},
							get: function () {
								return parseInt(pvalue, 10) || 0;
							}
						});
						// float value
						Object.defineProperty(obj.F, pname, {
							enumerable: true,
							set: function (v) {
								var val = parseFloat(v) || 0;
								if (val !== pvalue) {
									pvalue = val;
									prepareUpdate(full_pname, val);
								}
							},
							get: function () {
								return parseFloat(pvalue) || 0;
							}
						});
						_.each(_.range(10), function (d) {
							Object.defineProperty(obj.D[d], pname, {
								enumerable: true,
								set: function (v) {
									var val = (parseFloat(v) || 0).toFixed(d);
									if (val !== pvalue) {
										pvalue = val;
										prepareUpdate(full_pname, val);
									}
								},
								get: function () {
									return (parseFloat(pvalue) || 0).toFixed(d);
								}
							});
						});
					}
					());
			},
			repeating = function (section) {
				return (function (s) {
						var sectionName = s,
							attrNames = [],
							fieldNames = [],
							operations = [],
							after = [],
							repAttrs = function TAS_Repeating_Attrs() {
								attrNames = namesFromArgs(arguments, attrNames);
								return this;
							},
							repFields = function TAS_Repeating_Fields() {
								fieldNames = namesFromArgs(arguments, fieldNames);
								return this;
							},
							repReduce = function TAS_Repeating_Reduce(func, initial, final, context) {
								operations.push({
									type: 'reduce',
									func: (func && _.isFunction(func) && func) || _.noop,
									memo: (_.isUndefined(initial) && 0) || initial,
									final: (final && _.isFunction(final) && final) || _.noop,
									context: context || {}
								});
								return this;
							},
							repMap = function TAS_Repeating_Map(func, final, context) {
								operations.push({
									type: 'map',
									func: (func && _.isFunction(func) && func) || _.noop,
									final: (final && _.isFunction(final) && final) || _.noop,
									context: context || {}
								});
								return this;
							},
							repEach = function TAS_Repeating_Each(func, final, context) {
								operations.push({
									type: 'each',
									func: (func && _.isFunction(func) && func) || _.noop,
									final: (final && _.isFunction(final) && final) || _.noop,
									context: context || {}
								});
								return this;
							},
							repTap = function TAS_Repeating_Tap(final, context) {
								operations.push({
									type: 'tap',
									final: (final && _.isFunction(final) && final) || _.noop,
									context: context || {}
								});
								return this;
							},
							repAfter = function TAS_Repeating_After(callback, context) {
								after.push({
									callback: (callback && _.isFunction(callback) && callback) || _.noop,
									context: context || {}
								});
								return this;
							},
							repExecute = function TAS_Repeating_Execute(callback, context) {
								var rowSet = {},
									attrSet = {},
									fieldIds = [],
									fullFieldNames = [];
								repAfter(callback, context);
								// call each operation per row.
								// call each operation's final
								getSectionIDs("repeating_" + sectionName, function (ids) {
									fieldIds = ids;
									fullFieldNames = _.reduce(fieldIds, function (memo, id) {
										return memo.concat(_.map(fieldNames, function (name) {
											return 'repeating_' + sectionName + '_' + id + '_' + name;
										}));
									}, []);
									getAttrs(_.uniq(attrNames.concat(fullFieldNames)), function (values) {
										_.each(attrNames, function (aname) {
											if (values.hasOwnProperty(aname)) {
												addProp(attrSet, aname, values[aname]);
											}
										});
										rowSet = _.reduce(fieldIds, function (memo, id) {
											var r = {};
											addId(r, id);
											_.each(fieldNames, function (name) {
												var fn = 'repeating_' + sectionName + '_' + id + '_' + name;
												addProp(r, name, values[fn], fn);
											});
											memo[id] = r;
											return memo;
										}, {});
										_.each(operations, function (op) {
											var res;
											switch (op.type) {
											case 'tap':
												_.bind(op.final, op.context, rowSet, attrSet)();
												break;
											case 'each':
												_.each(rowSet, function (r) {
													_.bind(op.func, op.context, r, attrSet, r.id, rowSet)();
												});
												_.bind(op.final, op.context, rowSet, attrSet)();
												break;
											case 'map':
												res = _.map(rowSet, function (r) {
													return _.bind(op.func, op.context, r, attrSet, r.id, rowSet)();
												});
												_.bind(op.final, op.context, res, rowSet, attrSet)();
												break;
											case 'reduce':
												res = op.memo;
												_.each(rowSet, function (r) {
													res = _.bind(op.func, op.context, res, r, attrSet, r.id, rowSet)();
												});
												_.bind(op.final, op.context, res, rowSet, attrSet)();
												break;
											}
										});
										// finalize attrs
										applyQueuedUpdates();
										_.each(after, function (op) {
											_.bind(op.callback, op.context)();
										});
									});
								});
							};
						return {
							attrs: repAttrs,
							attr: repAttrs,
							column: repFields,
							columns: repFields,
							field: repFields,
							fields: repFields,
							reduce: repReduce,
							inject: repReduce,
							foldl: repReduce,
							map: repMap,
							collect: repMap,
							each: repEach,
							forEach: repEach,
							tap: repTap,
							'do': repTap,
							after: repAfter,
							last: repAfter,
							done: repAfter,
							execute: repExecute,
							go: repExecute,
							run: repExecute
						};
					}
					(section));
			},
			repeatingSimpleSum = function (section, field, destination) {
				repeating(section).attr(destination).field(field).reduce(function (m, r) {
					return m + (r.F[field]);
				}, 0, function (t, r, a) {
					a.S[destination] = t;
				}).execute();
			};
		console.log('%c•.¸¸.•*´¨`*•.¸¸.•*´¨`*•.¸  The Aaron Sheet  v' + version + '  ¸.•*´¨`*•.¸¸.•*´¨`*•.¸¸.•', 'background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
		console.log('%c•.¸¸.•*´¨`*•.¸¸.•*´¨`*•.¸  Last update: ' + (new Date(lastUpdate * 1000)) + '  ¸.•*´¨`*•.¸¸.•*´¨`*•.¸¸.•', 'background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
		return {
			/* Repeating Sections */
			repeatingSimpleSum: repeatingSimpleSum,
			repeating: repeating,
			/* Configuration */
			config: setConfigOption,
			/* Debugging */
			callback: wrapCallback,
			callstack: logCallstack,
			debugMode: debugMode,
			_fn: wrapCallback,
			/* Logging */
			debug: logDebug,
			error: logError,
			warn: logWarn,
			info: logInfo,
			notice: logNotice,
			log: logLog
		};
	}
	());
/* ---- END: TheAaronSheet.js ---- */


TAS.config({
	logging: {
		info: true,
		debug: true
	}
});

TAS.debugMode();

var CoC = CoC || (function () {

	var InitWeaponsCommand = function() {

		TAS.debug('Init Weapons Command');

		var baseMacro = "/w \"@{character_name}\" &{template:coc_buttons} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{name=^{weapons}}} ";

		getSectionIDs("repeating_weapons", function (idarray) {

			getAttrs(["_reporder_repeating_weapons"], function (repValues) {

				var atkattrs = [];
				_.each(idarray, function (id) {
					atkattrs.push("repeating_weapons_" + id + "_weapon-name");
					atkattrs.push("repeating_weapons_" + id + "_weapon-skill");
				});

				getAttrs(atkattrs, function (values) {
					var melee = "{{**^{weapons}**}} {{",attrs = {},repList;
					if (!_.isUndefined(repValues._reporder_repeating_weapons) && repValues._reporder_repeating_weapons != "") {
						repList = repValues._reporder_repeating_weapons.split(",");
						repList = _.map(repList, function (ID) {
							return ID.toLowerCase();
						});
					}
					var orderedList = _.union(repList, idarray);
					_.each(orderedList, function (ID) {
						var attackName = values["repeating_weapons_" + ID + "_weapon-name"],
							skillValue = values["repeating_weapons_" + ID + "_weapon-skill"];

						if (!_.isUndefined(skillValue)){
							var temproll = " [" + attackName + " (" + skillValue + ")](~@{character_id}|repeating_weapons_" + ID + "_attack-roll)";
							melee+=temproll;
						}
					});
					melee += "}} {{**^{hand-to-hand}**}} {{[^{feet} (@{hand-to-hand})](~@{character_id}|feet-attack-roll) [^{hands} (@{hand-to-hand})](~@{character_id}|hands-attack-roll) [^{head} (@{hand-to-hand})](~@{character_id}|head-attack-roll)}}";

					//TAS.debug(baseMacro + melee);

					attrs["attacks-macro"] = baseMacro + melee;
					setAttrs(attrs);
				});

			});
		});
	},
	InitSkillsCommand = function() {

		TAS.debug('Init Skills Command');

		var baseSkillMacro = "/w \"@{character_name}\" &{template:coc_buttons} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{name=^{skills}}} ",attrs = {};

		getSectionIDs("repeating_skills", function (idarray) {

			getAttrs(["_reporder_repeating_skills"], function (repValues) {

				var atkattrs = ["cthulhuMythos","criminalistics","psychoanalysis","survival","imposture","game","game-name","navigate","misc-skill-1","misc-skill-name-1","misc-skill-2","misc-skill-name-2","misc-skill-3","misc-skill-name-3","misc-skill-4","misc-skill-name-4","artistic-culture-name-1","artistic-culture-1","artistic-culture-name-2","artistic-culture-2","language-name-1","language-1","language-name-2","language-2","language-name-3","language-3","earth-science-1","earth-science-name-1","earth-science-2","earth-science-name-2","earth-science-3","earth-science-name-3","life-sciences-1","life-sciences-name-1","life-sciences-2","life-sciences-name-2","life-sciences-3","life-sciences-name-3","formal-sciences-1","formal-sciences-name-1","formal-sciences-2","formal-sciences-name-2","formal-sciences-3","formal-sciences-name-3","human-sciences-1","human-sciences-name-1","human-sciences-2","human-sciences-name-2","human-sciences-3","human-sciences-name-3","craft-1","craft-name-1","craft-2","craft-name-2","craft-3","craft-name-3","craft-4","craft-name-4","art-1","art-name-1","art-2","art-name-2","art-3","art-name-3","drive-1","drive-name-1","drive-2","drive-name-2","pilot-1","pilot-name-1","pilot-2","pilot-name-2"];

				_.each(idarray, function (id) {
					atkattrs.push("repeating_skills_" + id + "_misc-skill-name-x");
					atkattrs.push("repeating_skills_" + id + "_misc-skill-x");
				});

				getAttrs(atkattrs, function (values) {
					var attrs = {},repList;
					if (!_.isUndefined(repValues._reporder_repeating_skills) && repValues._reporder_repeating_skills != "") {
						repList = repValues._reporder_repeating_skills.split(",");
						repList = _.map(repList, function (ID) {
							return ID.toLowerCase();
						});
					}
					var orderedList = _.union(repList, idarray);

					/* ======================================== KNOWLEDGE SKILLS ======================================== */

					var knowledgeSkillMacro = "{{**^{knowledge}**}} ";
					knowledgeSkillMacro += "{{ [^{bureaucracy} (@{bureaucracy})](~@{character_id}|check_bureaucracy) ";
					knowledgeSkillMacro += "[^{artistic-culture} (@{artistic-culture})](~@{character_id}|check_artistic-culture) ";

					var val=parseInt(values["artistic-culture-1"]),name=values["artistic-culture-name-1"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{artistic-culture}: @{artistic-culture-name-1} (" + val + ")](~@{character_id}|check_artistic-culture-1) ";
					}
					val=parseInt(values["artistic-culture-2"]),name=values["artistic-culture-name-2"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{artistic-culture}: @{artistic-culture-name-2} (" + val + ")](~@{character_id}|check_artistic-culture-2) ";
					}

					knowledgeSkillMacro += "[^{mother-tongue}: @{mother-tongue-name} (@{mother-tongue})](~@{character_id}|check_mother-tongue) ";

					val=parseInt(values["language-1"]),name=values["language-name-1"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{languages}: @{language-name-1} (" + val + ")](~@{character_id}|check_language-1) ";
					}
					val=parseInt(values["language-2"]),name=values["language-name-2"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{languages}: @{language-name-2} (" + val + ")](~@{character_id}|check_language-2) ";
					}
					val=parseInt(values["language-3"]),name=values["language-name-3"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{languages}: @{language-name-3} (" + val + ")](~@{character_id}|check_language-3) ";
					}

					val=parseInt(values["cthulhuMythos"]);
					if (!isNaN(val)){
						knowledgeSkillMacro += "[^{cthulhu-mythos} (" + val + ")](~@{character_id}|check_cthulhu-mythos) ";
					}

					val=parseInt(values["earth-science-1"]),name=values["earth-science-name-1"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{earth-sciences}: @{earth-science-name-1} (" + val + ")](~@{character_id}|check_earth-science-1) ";
					}
					val=parseInt(values["earth-science-2"]),name=values["earth-science-name-2"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{earth-sciences}: @{earth-science-name-2} (" + val + ")](~@{character_id}|check_earth-science-2) ";
					}
					val=parseInt(values["earth-science-3"]),name=values["earth-science-name-3"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{earth-sciences}: @{earth-science-name-3} (" + val + ")](~@{character_id}|check_earth-science-3) ";
					}

					val=parseInt(values["life-sciences-1"]),name=values["life-sciences-name-1"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{life-sciences}: @{life-sciences-name-1} (" + val + ")](~@{character_id}|check_life-sciences-1) ";
					}
					val=parseInt(values["life-sciences-2"]),name=values["life-sciences-name-2"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{life-sciences}: @{life-sciences-name-2} (" + val + ")](~@{character_id}|check_life-sciences-2) ";
					}
					val=parseInt(values["life-sciences-3"]),name=values["life-sciences-name-3"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{life-sciences}: @{life-sciences-name-3} (" + val + ")](~@{character_id}|check_life-sciences-3) ";
					}

					val=parseInt(values["formal-sciences-1"]),name=values["formal-sciences-name-1"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{formal-sciences}: @{formal-sciences-name-1} (" + val + ")](~@{character_id}|check_formal-sciences-1) ";
					}
					val=parseInt(values["formal-sciences-2"]),name=values["formal-sciences-name-2"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{formal-sciences}: @{formal-sciences-name-2} (" + val + ")](~@{character_id}|check_formal-sciences-2) ";
					}
					val=parseInt(values["formal-sciences-3"]),name=values["formal-sciences-name-3"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{formal-sciences}: @{formal-sciences-name-3} (" + val + ")](~@{character_id}|check_formal-sciences-3) ";
					}

					val=parseInt(values["human-sciences-1"]),name=values["human-sciences-name-1"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{human-sciences}: @{human-sciences-name-1} (" + val + ")](~@{character_id}|check_human-sciences-1) ";
					}
					val=parseInt(values["human-sciences-2"]),name=values["human-sciences-name-2"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{human-sciences}: @{human-sciences-name-2} (" + val + ")](~@{character_id}|check_human-sciences-2) ";
					}
					val=parseInt(values["human-sciences-3"]),name=values["human-sciences-name-3"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[^{human-sciences}: @{human-sciences-name-3} (" + val + ")](~@{character_id}|check_human-sciences-3) ";
					}

					knowledgeSkillMacro += "[^{occult-sciences} (@{occult-sciences})](~@{character_id}|check_occult-sciences) ";

					val=parseInt(values["misc-skill-1"]),name=values["misc-skill-name-1"];
					if (!isNaN(val) && !(name==='')){
						knowledgeSkillMacro += "[@{misc-skill-name-1} (" + val + ")](~@{character_id}|check_misc-skill-1) ";
					}

					knowledgeSkillMacro += "}} "

					/* ======================================== EXPERTISE SKILLS ======================================== */

					var expertiseSkillMacro = "{{**^{expertise}**}} ";

					expertiseSkillMacro += "{{ [^{do-it-yourself} (@{do-it-yourself})](~@{character_id}|check_do-it-yourself) ";

					val=parseInt(values["criminalistics"]);
					if (!isNaN(val)){
						expertiseSkillMacro += "[^{criminalistics} (" + val + ")](~@{character_id}|check_criminalistics) ";
					}

					expertiseSkillMacro += "[^{hypnosis} (@{hypnosis})](~@{character_id}|check_hypnosis) ";
					expertiseSkillMacro += "[^{medicine} (@{medicine})](~@{character_id}|check_medicine) ";
					expertiseSkillMacro += "[^{craft} (5)](~@{character_id}|check_craft) ";

					val=parseInt(values["craft-1"]),name=values["craft-name-1"];
					if (!isNaN(val) && !(name==='')){
						expertiseSkillMacro += "[^{craft}: @{craft-name-1} (" + val + ")](~@{character_id}|check_craft-1) ";
					}
					val=parseInt(values["craft-2"]),name=values["craft-name-2"];
					if (!isNaN(val) && !(name==='')){
						expertiseSkillMacro += "[^{craft}: @{craft-name-2} (" + val + ")](~@{character_id}|check_craft-2) ";
					}
					val=parseInt(values["craft-3"]),name=values["craft-name-3"];
					if (!isNaN(val) && !(name==='')){
						expertiseSkillMacro += "[^{craft}: @{craft-name-3} (" + val + ")](~@{character_id}|check_craft-3) ";
					}
					val=parseInt(values["craft-4"]),name=values["craft-name-4"];
					if (!isNaN(val) && !(name==='')){
						expertiseSkillMacro += "[^{craft}: @{craft-name-4} (" + val + ")](~@{character_id}|check_craft-4) ";
					}

					expertiseSkillMacro += "[^{photography} (@{photography})](~@{character_id}|check_photography) ";
					expertiseSkillMacro += "[^{art} (5)](~@{character_id}|check_art) ";

					val=parseInt(values["art-1"]),name=values["art-name-1"];
					if (!isNaN(val) && !(name==='')){
						expertiseSkillMacro += "[^{art}: @{art-name-1} (" + val + ")](~@{character_id}|check_art-1) ";
					}
					val=parseInt(values["art-2"]),name=values["art-name-2"];
					if (!isNaN(val) && !(name==='')){
						expertiseSkillMacro += "[^{art}: @{art-name-2} (" + val + ")](~@{character_id}|check_art-2) ";
					}
					val=parseInt(values["art-3"]),name=values["art-name-3"];
					if (!isNaN(val) && !(name==='')){
						expertiseSkillMacro += "[^{art}: @{art-name-3} (" + val + ")](~@{character_id}|check_art-3) ";
					}

					expertiseSkillMacro += "[^{first-aid} (@{first-aid})](~@{character_id}|check_first-aid) ";

					val=parseInt(values["psychoanalysis"]);
					if (!isNaN(val)){
						expertiseSkillMacro += "[^{psychoanalysis} (" + val + ")](~@{character_id}|check_psychoanalysis) ";
					}

					val=parseInt(values["survival"]);
					if (!isNaN(val)){
						expertiseSkillMacro += "[^{survival} (" + val + ")](~@{character_id}|check_survival) ";
					}

					val=parseInt(values["misc-skill-2"]),name=values["misc-skill-name-2"];
					if (!isNaN(val) && !(name==='')){
						expertiseSkillMacro += "[@{misc-skill-name-2} (" + val + ")](~@{character_id}|check_misc-skill-2) ";
					}

					expertiseSkillMacro += "}} "

					/* ======================================== SENSORY SKILLS ======================================== */

					var sensorySkillMacro = "{{**^{sensory}**}} ";

					sensorySkillMacro += "{{ [^{library-use} (@{library-use})](~@{character_id}|check_library-use) ";
					sensorySkillMacro += "[^{stealth} (@{stealth})](~@{character_id}|check_stealth) ";
					sensorySkillMacro += "[^{concealment} (@{concealment})](~@{character_id}|check_concealment) ";
					sensorySkillMacro += "[^{listen} (@{listen})](~@{character_id}|check_listen) ";
					sensorySkillMacro += "[^{direction} (@{direction})](~@{character_id}|check_direction) ";
					sensorySkillMacro += "[^{track} (@{track})](~@{character_id}|check_track) ";
					sensorySkillMacro += "[^{psychology} (@{psychology})](~@{character_id}|check_psychology) ";
					sensorySkillMacro += "[^{hide} (@{hide})](~@{character_id}|check_hide) ";
					sensorySkillMacro += "[^{spot-hidden-object} (@{sho})](~@{character_id}|check_spot-hidden-object) ";
					sensorySkillMacro += "[^{vigilance} (@{vigilance})](~@{character_id}|check_vigilance) ";

					val=parseInt(values["misc-skill-3"]),name=values["misc-skill-name-3"];
					if (!isNaN(val) && !(name==='')){
						sensorySkillMacro += "[@{misc-skill-name-3} (" + val + ")](~@{character_id}|check_misc-skill-3) ";
					}

					sensorySkillMacro += "}} "

					/* ======================================== SENSORY SKILLS ======================================== */

					var influenceSkillMacro = "{{**^{influence}**}} ";

					influenceSkillMacro += "{{ [^{spiel} (@{spiel})](~@{character_id}|check_spiel) ";
					influenceSkillMacro += "[^{contact-and-resources} (@{contact-and-resources})](~@{character_id}|check_contact-and-resources) ";
					influenceSkillMacro += "[^{credit} (@{credit})](~@{character_id}|check_credit) ";

					val=parseInt(values["imposture"]);
					if (!isNaN(val)){
						influenceSkillMacro += "[^{imposture} (" + val + ")](~@{character_id}|check_imposture) ";
					}

					influenceSkillMacro += "[^{interview} (@{interview})](~@{character_id}|check_interview) ";
					influenceSkillMacro += "[^{game} (10)](~@{character_id}|check_game) ";

					val=parseInt(values["game"]),name=values["game-name"];
					if (!isNaN(val) && !(name==='')){
						influenceSkillMacro += "[^{game}: @{game-name} (" + val + ")](~@{character_id}|check_game-1) ";
					}

					influenceSkillMacro += "[^{bargain} (@{bargain})](~@{character_id}|check_bargain) ";
					influenceSkillMacro += "[^{insight} (@{insight})](~@{character_id}|check_insight) ";
					influenceSkillMacro += "[^{persuade} (@{persuade})](~@{character_id}|check_persuade) ";
					influenceSkillMacro += "[^{manners} (@{manners})](~@{character_id}|check_manners) ";

					val=parseInt(values["misc-skill-4"]),name=values["misc-skill-name-4"];
					if (!isNaN(val) && !(name==='')){
						influenceSkillMacro += "[@{misc-skill-name-4} (" + val + ")](~@{character_id}|check_misc-skill-4) ";
					}

					influenceSkillMacro += "}} "

					/* ======================================== ACTION SKILLS ======================================== */

					var actionSkillMacro = "{{**^{action}**}} ";

					actionSkillMacro += "{{ [^{firearms} (20)](~@{character_id}|check_firearms) ";
					actionSkillMacro += "[^{bladed-weapons} (20)](~@{character_id}|check_bladed-weapons) ";
					actionSkillMacro += "[^{gunnery} (15)](~@{character_id}|check_gunnery) ";
					actionSkillMacro += "[^{athleticism} (@{athleticism})](~@{character_id}|check_athleticism) ";
					actionSkillMacro += "[^{drive} (20)](~@{character_id}|check_drive) ";

					val=parseInt(values["drive-1"]),name=values["drive-name-1"];
					if (!isNaN(val) && !(name==='')){
						actionSkillMacro += "[^{drive}: @{drive-name-1} (" + val + ")](~@{character_id}|check_drive-1) ";
					}
					val=parseInt(values["drive-2"]),name=values["drive-name-2"];
					if (!isNaN(val) && !(name==='')){
						actionSkillMacro += "[^{drive}: @{drive-name-2} (" + val + ")](~@{character_id}|check_drive-2) ";
					}

					actionSkillMacro += "[^{hand-to-hand} (@{hand-to-hand})](~@{character_id}|check_hand-to-hand) ";
					actionSkillMacro += "[^{ride} (@{ride})](~@{character_id}|check_ride) ";

					val=parseInt(values["navigate"]);
					if (!isNaN(val)){
						actionSkillMacro += "[^{navigate} (@{navigate})](~@{character_id}|check_navigate) ";
					}

					val=parseInt(values["pilot-1"]),name=values["pilot-name-1"];
					if (!isNaN(val) && !(name==='')){
						actionSkillMacro += "[^{pilot}: @{pilot-name-1} (" + val + ")](~@{character_id}|check_pilot-1) ";
					}
					val=parseInt(values["pilot-2"]),name=values["pilot-name-2"];
					if (!isNaN(val) && !(name==='')){
						actionSkillMacro += "[^{pilot}: @{pilot-name-2} (" + val + ")](~@{character_id}|check_pilot-2) ";
					}

					actionSkillMacro += "}} "

					/* ======================================== MISC SKILLS ======================================== */

					var miscSkillMacro = "{{**^{others} ^{skills}**}} {{ ";

					_.each(orderedList, function (ID) {
						var skillName = values["repeating_skills_" + ID + "_misc-skill-name-x"],
							skillValue = values["repeating_skills_" + ID + "_misc-skill-x"];

						if (!_.isUndefined(skillValue) && !_.isUndefined(skillName)){
							miscSkillMacro += "[" + skillName + " (" + skillValue + ")](~@{character_id}|repeating_skills_" + ID + "_check_misc-skill-x) ";
						}
					});

					miscSkillMacro += "}}"


					//TAS.debug(baseSkillMacro + knowledgeSkillMacro + expertiseSkillMacro + sensorySkillMacro + influenceSkillMacro + actionSkillMacro + miscSkillMacro);

					attrs["skills-macro"] = baseSkillMacro + knowledgeSkillMacro + expertiseSkillMacro + sensorySkillMacro + influenceSkillMacro + actionSkillMacro + miscSkillMacro;
					setAttrs(attrs);
				});

			});
		});
	},
	initCSheet = function () {

		TAS.debug('Function Init Sheet');

		getAttrs(["initSheet","edu","int"], function(values){

	        var valinitSheet=parseInt(values.initSheet);
	        var valEdu=parseInt(values.edu);
	        var valInt=parseInt(values.int);

	        if(valinitSheet==1){
		        setAttrs({
		            'initSheet': 0,
		            'bureaucracy': 10,
		            'artistic-culture':10,
		            'mother-tongue':valEdu*5,
		            'occult-sciences': 5,
		            'do-it-yourself': 20,
		            'hypnosis': 5,
		            'medicine': 5,
		            'photography': 10,
		            'first-aid': 30,
		            'library-use': 25,
		            'stealth': 10,
		            'concealment': 15,
		            'listen': 25,
		            'direction': 10,
		            'track': 10,
		            'psychology': 5,
		            'hide': 10,
		            'sho': 25,
		            'vigilance': 25,
		            'spiel': 5,
		            'contact-and-resources': 10,
		            'credit': 15,
		            'interview': 10,
		            'bargain': 5,
		            'insight': valInt*2,
		            'persuade': 15,
		            'manners': valEdu*2,
		            'athleticism': 15,
		            'ride': 5
		        });
	        }
	    });
	};
	return {
		initWeapons: InitWeaponsCommand,
		initSkills: InitSkillsCommand,
		initCSheet: initCSheet
	};
}
());

on('sheet:opened', function(){

	TAS.debug('Sheet Opened');
	CoC.initCSheet();
	CoC.initWeapons();
	CoC.initSkills();
});

on("change:recalc1", function(eventInfo){

    TAS.debug('Recalc Sheet');

    setAttrs({
        'recalc1': 0,
        'initSheet': 1
    });
	CoC.initCSheet();
});

on("change:repeating_weapons", function(eventInfo) {

	CoC.initWeapons();
});

on("change:repeating_skills", function(eventInfo) {

	CoC.initSkills();
});

on("change:app", function(){

    getAttrs(["app"], function(values){

        var val=parseInt(values.app);

        setAttrs({
            presence: val*5
        });
    });
});

on("change:con", function(){

    getAttrs(["con"], function(values){

        var val=parseInt(values.con);

        setAttrs({
            stamina: val*5
        });
    });
});

on("change:str", function(){

    getAttrs(["str"], function(values){

        var val=parseInt(values.str);

        setAttrs({
            strength: val*5
        });
    });
});

on("change:siz", function(){

    getAttrs(["siz"], function(values){

        var val=parseInt(values.siz);

        setAttrs({
            corpulence: val*5
        });
    });
});

on("change:edu", function(){

    getAttrs(["edu"], function(values){

        var val=parseInt(values.edu);

        setAttrs({
            knowledge: val*5
        });
    });
});

on("change:dex", function(){

    getAttrs(["dex"], function(values){

        var val=parseInt(values.dex);

        setAttrs({
            agility: val*5
        });
        setAttrs({
            'hand-to-hand': val*2
        });
    });
});

on("change:int", function(){

    getAttrs(["int"], function(values){

        var val=parseInt(values.int);

        setAttrs({
            intuition: val*5
        });
    });
});

on("change:pow", function(){

    getAttrs(["pow"], function(values){

        var val=parseInt(values.pow);

        setAttrs({
            willpower: val*5
        });
        setAttrs({
            mp_max: val
        });
        setAttrs({
            initSanity: val*5
        });
    });
});

on("change:cthulhuMythos", function(){

    getAttrs(["cthulhuMythos"], function(values){

        var val=parseInt(values.cthulhuMythos);

        setAttrs({
            sanity_max: 99-val
        });
    });
});

on("change:con change:siz", function(){

    getAttrs(["con","siz"], function(values){

        var valCon=parseInt(values.con);
        var valSiz=parseInt(values.siz);

        var val=valCon+valSiz;

        setAttrs({
            woundThreshold: Math.round(val/4)
        });
        setAttrs({
            hp_max: Math.round(val/2)
        });
    });
});


</script>
